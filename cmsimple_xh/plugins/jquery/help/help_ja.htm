<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>jQuery for CMSimple :: Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
<!--

html, body{
	margin: 0;
padding: 0;
}
body{
	font-family: verdana, arial, sans-serif;
background-color: #e2e2e2;
text-align: center;
font-size: 0.9em;
line-height: 1.3;
}
.additional{
	font-size: 90%;
color: #666;
line-height: 1.1;
}
p.code{
	font-family: Courier New; border: 1px solid #999; background: #eed; padding: 8px 12px;
}
  -->
</style>
  <script type="text/javascript" src="sh/scripts/shCore.js"></script>
  <script type="text/javascript" src="sh/scripts/shBrushPhp.js"></script>
  <link type="text/css" rel="stylesheet" href="sh/styles/shCore.css">

  <link type="text/css" rel="stylesheet" href="sh/styles/shThemeDefault.css">

  <script type="text/javascript">
SyntaxHighlighter.config.clipboardSwf = 'sh/scripts/clipboard.swf';
SyntaxHighlighter.all();
  </script>
</head>


<body>

<div style="border: 1px solid rgb(187, 187, 187); margin: 0px auto auto; padding: 0pt 3em; text-align: left; width: 780px; background-color: rgb(255, 255, 255);">
[<a href="./help.htm" target="_blank">原文</a>] [<a href="http://translate.google.com/translate?hl=en&sl=auto&tl=ja&u=." target="_blank">Google翻訳</a>] [<a href="https://github.com/bbfriend/CMSimple_XH_JP_Translations" target="_blank">翻訳に協力する</a>]
<a target="_blank" href="http://jquery.com/"><img style="border: 0px solid ; width: 420px; height: 104px; float: right;" alt="" src="jQuery_logo_color_onwhite.png" vspace="20"></a><a target="_blank" href="http://jqueryui.com/"><img style="border: 0px solid ; width: 448px; height: 108px; float: right;" alt="" src="jQuery__UI_logo_color_onwhite.png" vspace="10"></a>
<h1><a class="mozTocH1" name="mozTocId902206"></a>jQuery
for CMSimple<br>

</h1>

<p>jQueryとjQueryUIを利用するためのCMSimpleシステムのプラグインで、他のCMSimple-Pluginsで使用できるライブラリを作成します。<br>
  <font size="-1" color="#ff0000">※一般に、Enqueue　System（エンキューシステム）と呼ばれるもので、多重読み込み、コンフリクトを防止するものです。・・・このプラグイン：jQuery4CMSimple
  は、強力ではありませんが、プラグインやテンプレートの開発には必須な関数を提供するプラグインです。（日本語チーム）</font><br>
</p>

<p class="additional">Version 1.6 - 2015-03-12<br>

<span class="additional">
&copy; 2011-2015 Holger Irmler, </span><a class="additional" target="_blank" href="http://cmsimple.holgerirmler.de">http://CMSimple.HolgerIrmler.de</a><span class="additional">.<br>

</span></p>

<br>

<br>

<ol id="mozToc">

<!--mozToc h2 1 h3 2 h4 3-->
<li><a href="#mozTocId43365">インストール</a>･･･既に組み込まれてるので不要</li>

  <li><a href="#mozTocId153175">Developers
View</a>
    <ol>

      <li><a href="#mozTocId683226">How
to use:</a></li>

      <li><a href="#mozTocId206541">Using
other jQuery-based plugins / extensions</a></li>

      <li><a href="#mozTocId686597">Complete
code-example: </a></li>

      <li><a href="#mozTocId335378">Where and how to
put your own code?</a></li>

      <li><a href="#mozTocId191578">Other
things to know...</a></li>

    </ol>

  </li>

  <li><a href="#mozTocId602111">Desingers
View</a></li>

  <li><a href="#mozTocId160751">Licenses</a></li>

  <li><a href="#mozTocId753693">Need
help?</a></li>

</ol>

<br>

<h2><a class="mozTocH2" name="mozTocId43365"></a>インストール（不要：既に組み込まれてます）</h2>

<ol>

  <li> <b>Always make a backup of your installation</b>
before adding a new plugin. </li>

  <li>Unzip the archive and upload the files and folders into
your
plugins-folder. <span class="additional">
    <p>It should look like this: </p>

    <ul>

      <li>[Root]
        <ul>

          <li>[2lang]</li>

          <li>[cmsimple]</li>

          <li>...</li>

          <li>[plugins]
            <ul>

              <li>...</li>

              <li>[pluginloader]</li>

              <li><b>[jquery]</b>
                <ul>

                  <li><b>[config]</b></li>

                  <li><span class="additional"><b>[lib]</b></span></li>

                  <li>admin.php</li>

                  <li>index.php</li>

                  <li>jquery.inc.php</li>

                </ul>

              </li>

              <li>index.php</li>

            </ul>

          </li>

          <li>[...]</li>

          <li>index.php</li>

        </ul>

      </li>

    </ul>

    </span> </li>

  <p>The file plugins/jquery/config/config.php needs to be
set
writeable.</p>

  <li><span style="font-weight: bold;">You're done! </span><br>

特に何もする必要はありません。<br>
プラグインやテンプレートを作成する際は、下記をお読みください</li>

</ol>

<s>Note: if you're really familiar with jQuery / jQuery UI and you want to
use it without other CMSimple-Plugins too, have a look at the "<a href="#Advanced_Usage">Advanced Usage</a>"
chapter.</s><br>

<div style="text-align: right;"><a href="#mozToc">Back
to toc</a><br>

</div>

<h2><a class="mozTocH2" name="mozTocId153175"></a>開発者へ</h2>

jQueryまたはjQuery UIを使用するCMSimpleプラグインを開発する場合は、独自のスクリプトコードを実行する前にjQueryライブラリを適切にロードしておく必要があります。 過去の一般的なやり方は、プラグイン関数自体によってライブラリコアを含めることでした。<br>
しかし、同じページに読み込まれた他のプラグインによって、多重読み込みやコンフリクトなど、多くの問題を引き起こします。 <br>
場合によっては、ページ上のすべてのjsコードがjs-errorsによって削除されてしまいます。<br>

<br>

<span style="font-weight: bold;">jQueryを利用するプラグイン（テンプレートも含む）には、このプラグインを使用することをお勧めします </span><br>

<div style="text-align: right;"><a href="help.htm#mozToc">Back to toc</a><br>

</div>

<h3><a class="mozTocH3" name="mozTocId683226"></a>使い方:</h3>

インクルードファイルに含まれるいくつかの基本的な機能を提供します。 <br>
以下の基本的なコード例:
<ol>

</ol>

<script type="syntaxhighlighter" class="brush: php"><![CDATA[
<?php

function myplugin() {
    global $hjs, $pth, $plugin_cf; //be sure CMSimple variables are accessible in your function
    $jqerror = '';
    if (!file_exists($pth['folder']['plugins'] . 'jquery/jquery.inc.php')) {
        $jqerror = '<div class="cmsimplecore_warning">' .
                '<b>Ups!</b>' . tag('br') .
                'Plugin ' . ucfirst(basename(dirname(__FILE__))) .
                ' requires jQuery4CMSimple - Plugin!' . tag('br') .
                'Please download and install jQuery4CMSimple' . tag('br') .
                'from <a href=' .
                '"http://www.cmsimple-xh.org/wiki/doku.php/extend:jquery4cmsimple">' .
                ' www.cmsimple-xh.org/wiki</a>.' .
                '</div>';
//drop the rest of the plugin-code
        return($jqerror);
    } else {
//load include-file from jQuery-plugin
//always use "include_once"!
        include_once($pth['folder']['plugins'] . 'jquery/jquery.inc.php'); //include jQuery to the <head>
        include_jQuery();
//include jQuery UI to the <head>, if you use it in your plugin
        include_jQueryUI();
//....
//your other code ...
//....
    }
}

?>
]]></script>
<br>

、jQueryとjQueryのUIを独自のプラグインに組み込むために必要な手順はいくつかあります:<br>

<ol>

  <li>６～１７行目： jQueryが利用できるかチェック（Ver1.6～不要）</li>

  <li>２１行目： <b><font color="#ff0000">jquery.inc.php</font></b>　をインクルードします<br>

    <span class="additional">"include_<span style="font-weight: bold;">once</span>"
が良いです。</span></li>

  <li>２２行目： <b><font color="#ff0000">include_jQuery()</font></b>　で　jQuery　を有効にします</li>

  <li>２４行目： <b><font color="#ff0000">include_jQueryUI()</font></b>　で　jQueryUI　を有効にします</li>

</ol>

<p>以上で、多重読み込みの防止などは、CMSimpleによって処理されます。<br>
  
  <br>
  
  クラスセレクタ &quot; cmsimplecore_warning &quot;を持つコンテナの中にエラーメッセージを入れて、CMSimple_XHの他の警告と同様に出力を得ることができます。 <br>
  エラーメッセージを表示したい場合は、プラグインの$tx配列（　$plugin_tx['プラグイン名']['****']）にエラーメッセージを追加し、ユーザーにローカライズされたテキストを提供してください。<br>
  
  <br>
  
  プラグインで使用する jQueryの置き場所は　特にどこでも構いませんが、ダウンロードページ（通常は　userfiles/downloads/以下)に　jQueryを含めないでください。 <br>
  <br>
</p>
<div style="text-align: right;"><a href="help.htm#mozToc">Back to toc</a><br>

</div>

<h3><a class="mozTocH3" name="mozTocId206541"></a>jQueryベースのプラグイン/ライブラリの使用 </h3>

<p>jQueryベースのプラグインやライブラリを実行する準備ができています。 <br>
  どのようなプラグインやライブラリがあるかは <a href="http://plugins.jquery.com/" target="_blank">http：//plugins.jquery.com/</a>　を参照してください 。 独自のコードでこれらのプラグインを使用すると、他のCMSimple-Pluginsと競合する可能性があります。 <br>
  この目的のために、CMSimpleのjQueryには3つ目の関数：<b><font color="#ff0000">include_jQueryPlugin()</font></b> が付属しています。: <script type="syntaxhighlighter" class="brush: php"><![CDATA[
include_jQueryPlugin($name, $path)
]]></script>
  </p>
<p>$nameはjQueryプラグインの名前、<br>
  $pathはロードするjsファイルのフルパスとファイル名です。 <br>
  jQuery for CMSimple - Pluginは、ダウンロード（jQuery UIの横にある）に単一のjQueryプラグインを提供しません。 追加の拡張子を使用する場合は、独自のダウンロードファイルに置きます。 例として、スクリプトにjQueryプラグインのイージングとマウスホイールが必要だとしましょう。 プラグインコードに2行追加する必要があります： <br>
  
  <script type="syntaxhighlighter" class="brush: php"><![CDATA[
<?php
include_jQueryPlugin('easing',
    $pth['folder']['plugins'].'myplugin/jquery.easing-1.3.pack.js');
include_jQueryPlugin('mousewheel',
    $pth['folder']['plugins'].'myplugin/jquery.mousewheel-3.0.4.pack.js');
?>
]]></script>  </p>
<p>注意：他のCMSimpleプラグインとできるだけ互換性を持たせるには、include_jQueryPlugin（）関数を呼び出すときに$name　にjQueryプラグインの実名のみを使用してください。 「 easing 」 を使用し、 「 easing-1.3 」などは使用しないでください。 CMSimpleのjQueryは、すべてのインクルードされたプラグインの名前（$ name）を記憶、多重読み込みを防止するために、既に利用可能な場合、それはそれを再び含まないです。<br>
  
  <br>
  
  実行時を見たい場合、名前は$jQueryPlugins配列に格納されます<br>
</p>
<div style="text-align: right;"><a href="help.htm#mozToc">Back to toc</a><br>

</div>

<h3><a class="mozTocH3" name="mozTocId686597"></a>完全なコードの例:<br>

</h3>

<script type="syntaxhighlighter" class="brush: php"><![CDATA[
<?php

function myplugin() {
    global $pth, $plugin_cf; //be sure CMSimple variables are accessible in your function
    $jqerror = '';
    if (!file_exists($pth['folder']['plugins'] . 'jquery/jquery.inc.php')) {
        $jqerror = '<div class="cmsimplecore_warning">' .
                '<b>Ups!</b>' . tag('br') .
                'Plugin ' . ucfirst(basename(dirname(__FILE__))) .
                ' requires jQuery4CMSimple - Plugin!' . tag('br') .
                'Please download and install jQuery4CMSimple' . tag('br') .
                'from <a href=' .
                '"http://www.cmsimple-xh.org/wiki/doku.php/extend:jquery4cmsimple">' .
                ' www.cmsimple-xh.org/wiki</a>.' .
                '</div>';
//drop the rest of the plugin-code
        return($jqerror);
    } else {
//load inculde-file from jQuery-plugin
//always use "include_once"!
        include_once($pth['folder']['plugins'] . 'jquery/jquery.inc.php'); //include jQuery to the <head>
        include_jQuery();
//include jQuery UI to the <head>, if you use it in your plugin
        include_jQueryUI();
//include other jQuery plugins
        include_jQueryPlugin('easing', $pth['folder']['plugins'] . 'myplugin/jquery.easing-1.3.pack.js');
        include_jQueryPlugin('mousewheel', $pth['folder']['plugins'] . 'myplugin/jquery.mousewheel-3.0.4.pack.js');
//....
//your other code ...
//....
    }
}

?>
]]></script>
<div style="text-align: right;"><a href="help.htm#mozToc">Back to toc</a><br>

</div>

<h3><a class="mozTocH3" name="mozTocId335378"></a>
  あなたのオリジナルなコード</h3>

独自のコードを組み込むには、CMSimpleのGlobal変数を利用します。<br>

<br>

あなたのスクリプトが&lt;head&gt;～ &lt;/head&gt;なら、 <strong>$hjs</strong> ：<br>

<script type="syntaxhighlighter" class="brush: php"><![CDATA[
$hjs .= '<script type="text/javascript">
            jQuery(document).ready(function(){...});
         &lt;/script>';
]]></script>
コンテンツの中に入れる必要があるならば、<strong>$o</strong> ：<br>
<script type="syntaxhighlighter" class="brush: php"><![CDATA[
$o .= '<script type="text/javascript">
          jQuery("p.neat").addClass("ohmy").show("slow");
       &lt;/script>';
]]></script>
<br>
 ※&lt;/body&gt;の前なら <strong>$bjs</strong> （CMSimple_XH　Ver1.5.4　以上）
 <p>
  jQuery4CMSimpleを使用すると、jQueryは常に最初にロードされたJS-Libraryになります。 これにより、jQueryと一緒に$略語を使用して他のフレームワークを使用することが容易になります。 できるだけ互換性のあるコードを書く</p>

<ul>

  <li>'$' を使わない　<br>
    jQuery()　を使うか　( function($) { /* ここのコードは$（） */ })(jQuery) )    <br>
  </li>

  <li>プラグインでjQueryのnoConflict（）を使用しない</li>

  <li>&quot;.=&quot; 演算子を使用して、$hjs の右側に非jQueryライブラリを追加します<br>
  </li>

  <li>テンプレート内の &quot;&lt;?php echo head（）;？&gt;&quot;という行の後に常に含めます。</li>

</ul>

詳細は、こちらの <a href="https://learn.jquery.com/using-jquery-core/avoid-conflicts-other-libraries/">jQueryドキュメンテーション</a>の「Including jQuery before Other Libraries」の章や、 <a href="http://www.cmsimpleforum.com/viewtopic.php?f=29&t=3209&st=0&sk=t&sd=a&start=20#p18077" target="_blank">CMSimple_XHのフォーラム</a>をご覧ください。

<h3><a class="mozTocH3" name="mozTocId191578"></a>その他...</h3>

開発者にとって便利な機能がいくつか付属しています：<br>

<br style="font-weight: bold;">

<span style="font-weight: bold;">開発途中で違うバージョンのjQueryを試したい場合</span> <br>

異なるjQueryまたはjQueryUIバージョンでは、ライブラリへのパスを含むインクルード関数を呼び出すことができます：<br>

<script type="syntaxhighlighter" class="brush: php"><![CDATA[
include_jQuery('http://code.jquery.com/jquery-latest.min.js');
]]></script>
この例のように、ローカルパスまたは外部パスを使用できます。 同じ方法でjQueryUIに対して行います。 ただし、この機能は開発環境でのみ使用してください。 特殊なライブラリバージョンへのパスを使ってプラグインを配布しないでください 。 あなたのリリースは、関数呼び出しのパラメータなしで常に来なければなりません。<br>

<br>

<br>

<div style="text-align: right;"><a href="help.htm#mozToc">Back to toc</a><br>

</div>

<h2><a class="mozTocH2" name="mozTocId602111"></a>テンプレートデザイナー</h2>

このプラグインで　別のフレームワーク： jQuery UIが利用可能になります。<a href="http://jqueryui.com/home" target="_blank"> jQuery UI</a> は、いくつかの定義済みのエフェクト、UIウィジェット、強力なCSSベースのテーマフレームワークで構成されています。 このプラグインには、デフォルトの明るい灰色のテーマ（滑らかさのテーマ）を持つjQuery UIが含まれています。<br>
  デザイナーは、テンプレートスタイルに合わせて独自のテーマを提供したり、単一のクラスセレクターを使用してスタイルシートファイルを作成して、デフォルトテーマの設定を上書きすることができます。<br>
  jQuery UI - <a href="http://jqueryui.com/themeroller/" target="_blank">Themeroller</a> をチェックして、独自のデザインを一から作成するか、ギャラリーからテーマを選択してカスタマイズします。<br>
<img style="border: 1px solid ; width: 300px; height: 126px; float: right;" alt="" src="ui_cssfolder.PNG" hspace="5" vspace="5"><br>

<br>

あなたのテーマ設定を「アクティブにする」には、テンプレートフォルダ内に &quot;<strong><em>jquery_ui</em></strong>&quot;というサブフォルダを作成します。 UIテーマを提供するには、このフォルダの中に &quot; <em><strong>jquery_ui.css</strong></em> &quot;という名前のファイルを置いてください（ただし、この方法では完全なUIテーマを提供する必要があります - 必要に応じて サブフォルダ：imagesを指定する必要があります）。<br>
<br>

<br>
  単一のクラス定義のみを上書きする場合は、 &quot;jquery_ui&quot; - フォルダーに &quot; stylesheet.css &quot;という名前のファイルを作成します。 ここでは、デフォルトテーマが使用可能になり、stylesheet.cssの定義がデフォルトテーマの内容を上書きします。<br>
  <font size="-1" color="#ff0000">※　$pth['folder']['template'] . 'jquery_ui/jquery_ui.css' があれば、スタイルシートのリンクを自動で作成し、なければ<br>
  Jquery4CMSimpleデフォルトのスタイルシートと、　$pth['folder']['template'] . 'jquery_ui/stylesheet.css'
  があれば、そのリンクを自動で作成します。（日本語チーム）<br>
  　　　</font><font color="#ff0000">※　他に有益な情報：　<a href="https://cmsimpleforum.com/viewtopic.php?f=29&t=4201" target="_blank">Templates using jQuery</a><br>
  &nbsp;<br>
  </font>
  <div style="text-align: right;"><font color="#ff0000"><a href="help.htm#mozToc">Back to toc</a><br>
  </font></div>

<h2><a class="mozTocH2" name="mozTocId160751"></a>Licenses</h2>

<ul>

  <li><span style="font-weight: bold;">jQuery:</span><br>

Copyright 2011, John Resig<br>

dual licensed under the MIT or GPL Version 2 licenses<br>

see http://jquery.org/license</li>

  <li><span style="font-weight: bold;">jQueryUI:</span><br>

Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)<br>

dual licensed under the MIT or GPL Version 2 licenses<br>

see http://jquery.org/license
&amp;&nbsp;http://docs.jquery.com/UI<br>

  </li>

  <li><span style="font-weight: bold;">jQuery for
CMSimple:</span><br>

Copyright 2011, Holger Irmler<br>

licensed under the GPL Version 2 or later of your choice</li>

</ul>

<div style="text-align: right;"><a href="help.htm#mozToc">Back to toc</a>
</div>

<ol>

</ol>

<h2><a class="mozTocH2" name="mozTocId753693"></a>Need
help?</h2>

<p>... visit <a target="_blank" href="http://www.cmsimpleforum.com">cmsimpleforum.com</a>.</p>

<span style="font-weight: bold;">
<br>

</span>
<pre style="font-weight: bold; line-height: 1.2em; font-size: 90%; color: rgb(102, 102, 102);"> THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED <br> IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND,<br> EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS<br> FOR A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD<br> THE PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.<br> </pre>

</div>

</body>
</html>
